# ============================================================
#  Ø¨ÙˆØª Ø¨ÙÙƒØ³Ù„Ø© â€” Bixala Bot
#  Ø§Ù„ÙˆØ¸ÙŠÙØ©: ÙŠØ¬Ù…Ø¹ ØµÙˆØ± Ø§Ù„Ù…Ù‚ØªÙ†ÙŠØ§Øª Ø§Ù„ØªØ±Ø§Ø«ÙŠØ© Ù…Ù† Ù¦ Ø²ÙˆØ§ÙŠØ§
#  Ø«Ù… ÙŠØ±ÙØ¹Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙˆÙŠØ¹Ø·ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ Ø±ÙˆØ§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø©
#  ÙˆÙŠÙˆØ¬Ù‘Ù‡Ù‡ Ù„Ù†Ù…ÙˆØ°Ø¬ Airtable Ù„ØªØ¹Ø¨Ø¦Ø© Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
# ============================================================

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ“¦ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
import logging          # Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ù„Ø£Ø­Ø¯Ø§Ø« ÙÙŠ Ø§Ù„Ù€ console
import os               # Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© (Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª ÙˆØ§Ù„Ù…ÙØ§ØªÙŠØ­)
import base64           # Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Ù†Øµ base64 Ù‚Ø¨Ù„ Ø±ÙØ¹Ù‡Ø§
import requests         # Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ± Ø¥Ù„Ù‰ Ø®Ø¯Ù…Ø© imgBB Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
from telegram import Update, ReplyKeyboardRemove  # Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªÙŠÙ„ÙŠÙ‚Ø±Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
from telegram.ext import (
    Application,         # Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ø¨ÙˆØª
    CommandHandler,      # ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ù…Ø«Ù„ /start Ùˆ /cancel
    MessageHandler,      # ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© ÙˆØ§Ù„ØµÙˆØ±
    ConversationHandler, # ÙŠÙ†Ø¸Ù‘Ù… Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ÙƒÙ…Ø±Ø§Ø­Ù„ Ù…ØªØªØ§Ø¨Ø¹Ø©
    filters,             # ÙÙ„Ø§ØªØ± Ù„ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (Ù†ØµØŒ ØµÙˆØ±Ø©ØŒ Ø¥Ù„Ø®)
    ContextTypes,        # Ù†ÙˆØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙŠØ§Ù‚
)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
# Ù‡Ø°ÙŠ Ø§Ù„Ù‚ÙŠÙ… ØªÙØ¶Ø§Ù ÙƒÙ€ Variables ÙÙŠ Railway ÙˆÙ…Ø§ ØªÙ†ÙƒØªØ¨ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
BOT_TOKEN = os.environ["BOT_TOKEN"]                          # ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª Ù…Ù† @BotFather
IMGBB_API_KEY = os.environ["IMGBB_API_KEY"]                  # Ù…ÙØªØ§Ø­ API Ù…Ù† Ù…ÙˆÙ‚Ø¹ imgbb.com
AIRTABLE_FORM_URL = os.environ.get("AIRTABLE_FORM_URL", "")  # Ø±Ø§Ø¨Ø· Ù†Ù…ÙˆØ°Ø¬ Airtable (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ”¢ ØªØ¹Ø±ÙŠÙ Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
# ÙƒÙ„ Ù…Ø±Ø­Ù„Ø© Ù„Ù‡Ø§ Ø±Ù‚Ù… â€” Ø§Ù„Ø¨ÙˆØª ÙŠØ¹Ø±Ù ÙˆÙŠÙ† Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ ÙˆØµÙ„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„ÙŠÙ‡
# Ø§Ù„Ù…Ø±Ø§Ø­Ù„: Ø§Ù„Ø§Ø³Ù… â† Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø© â† ØµÙˆØ±Ø©Ù¡ â† ØµÙˆØ±Ø©Ù¢ â† ... â† ØµÙˆØ±Ø©Ù¦
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
NAME, ITEM_NAME, PHOTO_1, PHOTO_2, PHOTO_3, PHOTO_4, PHOTO_5, PHOTO_6 = range(8)
# range(8) ÙŠØ¹Ø·ÙŠ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…: 0, 1, 2, 3, 4, 5, 6, 7
# NAME=0, ITEM_NAME=1, PHOTO_1=2, PHOTO_2=3 ... PHOTO_6=7

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ“¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ø³Øª Ù„Ù„ØªØµÙˆÙŠØ±
# ÙƒÙ„ Ø¹Ù†ØµØ± ÙŠØ­ØªÙˆÙŠ: Ø±Ù‚Ù… Ø§Ù„Ø®Ø·ÙˆØ©ØŒ Ø§Ø³Ù… Ø§Ù„Ø²Ø§ÙˆÙŠØ©ØŒ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù„Ù„Ù…Ø´Ø§Ø±Ùƒ
# ğŸ’¡ Ø¥Ø°Ø§ ØªØ¨ÙŠ ØªØºÙŠÙ‘Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø£Ùˆ Ø§Ù„Ù†ØµÙˆØµØŒ Ø¹Ø¯Ù‘Ù„ Ù‡Ù†Ø§ ÙÙ‚Ø·
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHOTO_STEPS = [
    {
        "num": "Ù¡/Ù¦",                    # Ø±Ù‚Ù… Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ù„ÙŠ ÙŠØ´ÙˆÙÙ‡ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ
        "angle": "Ù…Ù† Ø§Ù„Ø£Ù…Ø§Ù… ğŸ”²",         # Ø§Ø³Ù… Ø§Ù„Ø²Ø§ÙˆÙŠØ©
        "instruction": "ØµÙˆÙ‘Ø± Ø§Ù„Ù‚Ø·Ø¹Ø© Ù…Ù† Ø§Ù„Ø£Ù…Ø§Ù… Ù…Ø¨Ø§Ø´Ø±Ø©.\nğŸ’¡ Ø®Ù„Ù‘ Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø© ÙˆØ§Ø¶Ø­Ø© ÙˆØ§Ù„Ø®Ù„ÙÙŠØ© Ø¨Ø³ÙŠØ·Ø©."  # Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª
    },
    {
        "num": "Ù¢/Ù¦",
        "angle": "Ù…Ù† Ø§Ù„Ø®Ù„Ù ğŸ”³",
        "instruction": "Ø£Ø¯Ø± Ø§Ù„Ù‚Ø·Ø¹Ø© ÙˆØµÙˆÙ‘Ø±Ù‡Ø§ Ù…Ù† Ø§Ù„Ø®Ù„Ù."
    },
    {
        "num": "Ù£/Ù¦",
        "angle": "Ù…Ù† Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ…Ù† â¡ï¸",
        "instruction": "ØµÙˆÙ‘Ø±Ù‡Ø§ Ù…Ù† Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ…Ù†."
    },
    {
        "num": "Ù¤/Ù¦",
        "angle": "Ù…Ù† Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠØ³Ø± â¬…ï¸",
        "instruction": "ØµÙˆÙ‘Ø±Ù‡Ø§ Ù…Ù† Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠØ³Ø±."
    },
    {
        "num": "Ù¥/Ù¦",
        "angle": "Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ â¬†ï¸",
        "instruction": "ØµÙˆÙ‘Ø±Ù‡Ø§ Ù…Ù† ÙÙˆÙ‚ (Ù…Ù†Ø¸Ø± Ø¹Ù„ÙˆÙŠ)."
    },
    {
        "num": "Ù¦/Ù¦",
        "angle": "ØªÙØ§ØµÙŠÙ„ Ù…Ù…ÙŠØ²Ø© âœ¨",
        "instruction": "ØµÙˆÙ‘Ø± Ø£ÙŠ Ù†Ù‚Ø´ Ø£Ùˆ Ø¹Ù„Ø§Ù…Ø© Ø£Ùˆ ØªÙØµÙŠÙ„Ø© Ù…Ù…ÙŠØ²Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø·Ø¹Ø©.\nØ¥Ø°Ø§ Ù…Ø§ ÙÙŠÙ‡ØŒ ØµÙˆÙ‘Ø±Ù‡Ø§ Ù…Ù† Ø£ÙŠ Ø²Ø§ÙˆÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© ØªØ­Ø¨Ù‡Ø§."
    },
]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ“‹ Ø¥Ø¹Ø¯Ø§Ø¯ Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„ÙƒÙ† Ù…ÙÙŠØ¯ Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
logging.basicConfig(
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    level=logging.INFO,
)
logger = logging.getLogger(__name__)


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ–¼ï¸ Ø¯Ø§Ù„Ø© Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± Ø¹Ù„Ù‰ imgBB
# ØªØ§Ø®Ø° Ø§Ù„ØµÙˆØ±Ø© ÙƒÙ€ bytes ÙˆØªØ±Ø¬Ø¹ Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø± Ø£Ùˆ None Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø±ÙØ¹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
def upload_to_imgbb(file_bytes: bytes) -> str | None:
    """ÙŠØ±ÙØ¹ ØµÙˆØ±Ø© Ø¹Ù„Ù‰ imgBB ÙˆÙŠØ±Ø¬Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±."""
    try:
        # ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Ù†Øµ base64 Ù„Ø£Ù† imgBB ÙŠØ³ØªÙ‚Ø¨Ù„Ù‡Ø§ Ø¨Ù‡Ø§Ù„Ø´ÙƒÙ„
        b64 = base64.b64encode(file_bytes).decode("utf-8")

        # Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ imgBB Ø¹Ø¨Ø± Ø§Ù„Ù€ API
        resp = requests.post(
            "https://api.imgbb.com/1/upload",  # Ø±Ø§Ø¨Ø· Ø§Ù„Ù€ API
            data={
                "key": IMGBB_API_KEY,  # Ù…ÙØªØ§Ø­ Ø§Ù„Ù€ API Ø­Ù‚Ùƒ
                "image": b64,          # Ø§Ù„ØµÙˆØ±Ø© Ø¨ØµÙŠØºØ© base64
            },
            timeout=30,  # ÙŠÙ†ØªØ¸Ø± Ù£Ù  Ø«Ø§Ù†ÙŠØ© ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰
        )

        # Ø¥Ø°Ø§ Ù†Ø¬Ø­ Ø§Ù„Ø·Ù„Ø¨ (ÙƒÙˆØ¯ 200 ÙŠØ¹Ù†ÙŠ Ù†Ø¬Ø§Ø­)
        if resp.status_code == 200:
            data = resp.json()  # ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±Ø¯ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©
            if data.get("success"):
                return data["data"]["url"]  # Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±

    except Exception as e:
        # Ø¥Ø°Ø§ Ø­ØµÙ„ Ø£ÙŠ Ø®Ø·Ø£ØŒ Ø³Ø¬Ù‘Ù„Ù‡ ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
        logger.error(f"imgBB upload error: {e}")

    # Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø±ÙØ¹ Ù„Ø£ÙŠ Ø³Ø¨Ø¨ØŒ Ø§Ø±Ø¬Ø¹ None
    return None


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŸ¢ Ø¯Ø§Ù„Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© â€” Ø£ÙˆÙ„ Ø´ÙŠØ¡ ÙŠØµÙŠØ± Ù„Ù…Ø§ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ ÙŠØ±Ø³Ù„ Ø£ÙŠ Ø±Ø³Ø§Ù„Ø©
# ØªÙ…Ø³Ø­ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ÙŠÙ…Ø© ÙˆØªØ¨Ø¯Ø£ Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø©
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    # Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© (Ù„Ùˆ Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯)
    context.user_data.clear()
    # Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© ÙØ§Ø¶ÙŠØ© Ù„Ø­ÙØ¸ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ±
    context.user_data["photos"] = []

    # Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ ÙˆØ·Ù„Ø¨ Ø§Ù„Ø§Ø³Ù…
    await update.message.reply_text(
        "âœ¨ *Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¨ÙÙƒØ³Ù„Ø©!*\n\n"
        "Ù†Ø­Ù† Ù†Ø­ÙØ¸ Ø§Ù„Ø¥Ø±Ø« Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ Ø±Ù‚Ù…ÙŠÙ‹Ø§ ğŸº\n\n"
        "Ø³Ø£Ø³Ø§Ø¹Ø¯Ùƒ ØªØ±ÙØ¹ ØµÙˆØ± Ù‚Ø·Ø¹ØªÙƒ Ø§Ù„ØªØ±Ø§Ø«ÙŠØ© Ù…Ù† Ù¦ Ø²ÙˆØ§ÙŠØ§ Ù…Ø®ØªÙ„ÙØ©ØŒ "
        "ÙˆØ¨Ø¹Ø¯Ù‡Ø§ Ø£Ø¹Ø·ÙŠÙƒ Ø±Ø§Ø¨Ø· ØªÙ„ØµÙ‚Ù‡ ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©.\n\n"
        "ğŸ“ *Ø£Ø±Ø³Ù„ Ù„ÙŠ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„:*",
        parse_mode="Markdown",  # ÙŠØ³Ù…Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… * Ù„Ù„Ø®Ø· Ø§Ù„Ø¹Ø±ÙŠØ¶
    )
    # Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø§Ø³Ù…
    return NAME


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ‘¤ Ø¯Ø§Ù„Ø© Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø§Ø³Ù…
# ØªØ­ÙØ¸ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ ÙˆØªØ·Ù„Ø¨ Ù…Ù†Ù‡ Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async def get_name(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    # Ø­ÙØ¸ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù„ÙŠ Ø£Ø±Ø³Ù„Ù‡ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ (Ù…Ø¹ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø¯Ø©)
    context.user_data["name"] = update.message.text.strip()
    name = context.user_data["name"]

    # Ø·Ù„Ø¨ Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø© Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©
    await update.message.reply_text(
        f"Ø£Ù‡Ù„Ø§Ù‹ *{name}!* ğŸ‘‹\n\n"
        "ğŸ“ *Ø£Ø±Ø³Ù„ Ù„ÙŠ Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø© Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©:*\n"
        "Ù…Ø«Ø§Ù„: Ø¯Ù„Ø© Ù‚Ù‡ÙˆØ©ØŒ Ø³Ø¬Ø§Ø¯Ø©ØŒ Ø®Ù†Ø¬Ø±ØŒ Ù…Ø¨Ø®Ø±Ø©...",
        parse_mode="Markdown",
    )
    # Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©
    return ITEM_NAME


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸº Ø¯Ø§Ù„Ø© Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©
# ØªØ­ÙØ¸ Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø© ÙˆØªØ¹Ø±Ø¶ Ù†ØµØ§Ø¦Ø­ Ø§Ù„ØªØµÙˆÙŠØ± ÙˆØªØ·Ù„Ø¨ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async def get_item_name(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    # Ø­ÙØ¸ Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©
    context.user_data["item_name"] = update.message.text.strip()
    item = context.user_data["item_name"]

    # Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    step = PHOTO_STEPS[0]

    # Ø¥Ø±Ø³Ø§Ù„ Ù†ØµØ§Ø¦Ø­ Ø§Ù„ØªØµÙˆÙŠØ± + Ø·Ù„Ø¨ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
    await update.message.reply_text(
        f"Ù…Ù…ØªØ§Ø²! Ø¨Ù†ØµÙˆÙ‘Ø± *{item}* Ù…Ù† Ù¦ Ø²ÙˆØ§ÙŠØ§ ğŸ“·\n\n"
        "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n"
        "ğŸ’¡ *Ù†ØµØ§Ø¦Ø­ Ø³Ø±ÙŠØ¹Ø© Ù„Ù„ØªØµÙˆÙŠØ±:*\n"
        "â€¢ Ø§Ø³ØªØ®Ø¯Ù… Ø¥Ø¶Ø§Ø¡Ø© Ø·Ø¨ÙŠØ¹ÙŠØ© Ø£Ùˆ ÙˆØ§Ø¶Ø­Ø©\n"
        "â€¢ Ø®Ù„Ù‘ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¨Ø³ÙŠØ·Ø© (Ø£Ø¨ÙŠØ¶ Ø£Ùˆ Ù„ÙˆÙ† ÙˆØ§Ø­Ø¯)\n"
        "â€¢ Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… ÙÙ„Ø§Ø´\n"
        "â€¢ ØªØ£ÙƒØ¯ Ø§Ù„Ù‚Ø·Ø¹Ø© ÙˆØ§Ø¶Ø­Ø© ÙˆÙƒØ§Ù…Ù„Ø© ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©\n"
        "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n"
        f"ğŸ“¸ *Ø§Ù„ØµÙˆØ±Ø© {step['num']} â€” {step['angle']}*\n"
        f"{step['instruction']}",
        parse_mode="Markdown",
    )
    # Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
    return PHOTO_1


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“· Ø¯Ø§Ù„Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙˆØ± â€” ØªÙØ³ØªØ¯Ø¹Ù‰ ÙƒÙ„ Ù…Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ ÙŠØ±Ø³Ù„ ØµÙˆØ±Ø©
# ØªØ­Ù…Ù‘Ù„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† ØªÙŠÙ„ÙŠÙ‚Ø±Ø§Ù…ØŒ ØªØ±ÙØ¹Ù‡Ø§ Ø¹Ù„Ù‰ imgBBØŒ ØªØ­ÙØ¸ Ø§Ù„Ø±Ø§Ø¨Ø·
# Ø«Ù… ØªØ·Ù„Ø¨ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ø£Ùˆ ØªÙ†Ù‡ÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async def handle_photo(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    # Ù…Ø¹Ø±ÙØ© ÙƒÙ… ØµÙˆØ±Ø© Ø±ÙØ¹Ù†Ø§Ù‡Ø§ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù† (0 = Ø£ÙˆÙ„ ØµÙˆØ±Ø©ØŒ 5 = Ø¢Ø®Ø± ØµÙˆØ±Ø©)
    current_step = len(context.user_data["photos"])

    # â”€â”€â”€ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Ø³ÙŠØ±ÙØ±Ø§Øª ØªÙŠÙ„ÙŠÙ‚Ø±Ø§Ù… â”€â”€â”€
    photo = update.message.photo[-1]  # [-1] ÙŠØ¹Ø·ÙŠÙ†Ø§ Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© Ù…ØªØ§Ø­Ø©
    file = await photo.get_file()     # Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù
    file_bytes = await file.download_as_bytearray()  # ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ§Ù†Ø§Øª

    # â”€â”€â”€ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø¹Ù„Ù‰ imgBB â”€â”€â”€
    await update.message.reply_text("â³ Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©...")
    link = upload_to_imgbb(bytes(file_bytes))  # Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„Ø±ÙØ¹

    # Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø±ÙØ¹ØŒ Ø§Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ ÙŠØ¹ÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø©
    if not link:
        await update.message.reply_text(
            "âŒ Ø­ØµÙ„ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø±ÙØ¹. Ø£Ø±Ø³Ù„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©."
        )
        # ÙŠØ¨Ù‚Ù‰ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        return PHOTO_1 + current_step

    # â”€â”€â”€ Ø­ÙØ¸ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙˆØ± â”€â”€â”€
    context.user_data["photos"].append(
        {"angle": PHOTO_STEPS[current_step]["angle"], "url": link}
    )

    # ØªØ£ÙƒÙŠØ¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ø±ÙØ¹
    await update.message.reply_text(f"âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© {current_step + 1}/Ù¦")

    # â”€â”€â”€ Ø§Ù„ØªØ­Ù‚Ù‚: Ù‡Ù„ ÙƒÙ…Ù„Ù†Ø§ Ù¦ ØµÙˆØ±ØŸ â”€â”€â”€
    if current_step + 1 >= 6:
        # Ù†Ø¹Ù… ÙƒÙ…Ù„Ù†Ø§ â€” Ù†Ù†ØªÙ‚Ù„ Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡
        return await finish(update, context)

    # â”€â”€â”€ Ù„Ø§ØŒ Ù„Ø³Ù‡ ÙÙŠ ØµÙˆØ± Ø¨Ø§Ù‚ÙŠØ© â€” Ø§Ø·Ù„Ø¨ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© â”€â”€â”€
    next_step = PHOTO_STEPS[current_step + 1]
    await update.message.reply_text(
        f"ğŸ“¸ *Ø§Ù„ØµÙˆØ±Ø© {next_step['num']} â€” {next_step['angle']}*\n"
        f"{next_step['instruction']}",
        parse_mode="Markdown",
    )
    # Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
    return PHOTO_1 + current_step + 1


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ‰ Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡ â€” ØªÙØ³ØªØ¯Ø¹Ù‰ Ø¨Ø¹Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ Ù¦ ØµÙˆØ±
# ØªØ±Ø³Ù„ Ù„Ù„Ù…Ø´Ø§Ø±Ùƒ ÙƒÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· + Ø±Ø§Ø¨Ø· Ù†Ù…ÙˆØ°Ø¬ Airtable
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async def finish(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    # Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ
    name = context.user_data["name"]
    item = context.user_data["item_name"]
    photos = context.user_data["photos"]

    # â”€â”€â”€ Ø¨Ù†Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…ÙØµÙ‘Ù„Ø© (ÙƒÙ„ Ø±Ø§Ø¨Ø· Ù…Ø¹ Ø§Ø³Ù… Ø§Ù„Ø²Ø§ÙˆÙŠØ©) â”€â”€â”€
    links_text = ""
    for i, p in enumerate(photos, 1):  # enumerate ØªØ¹Ø·ÙŠ Ø±Ù‚Ù… + Ø§Ù„Ø¹Ù†ØµØ±
        links_text += f"{i}. {p['angle']}\nğŸ”— {p['url']}\n\n"

    # â”€â”€â”€ ØªØ¬Ù…ÙŠØ¹ ÙƒÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¨Ø³Ø·ÙˆØ± Ù…Ù†ÙØµÙ„Ø© (Ø³Ù‡Ù„ Ø§Ù„Ù†Ø³Ø®) â”€â”€â”€
    all_urls = "\n".join([p["url"] for p in photos])

    # Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…ÙØµÙ‘Ù„Ø©
    await update.message.reply_text(
        f"ğŸ‰ *Ù…Ù…ØªØ§Ø² {name}!*\n\n"
        f"ØªÙ… Ø±ÙØ¹ Ù¦ ØµÙˆØ± Ù„Ù€ *{item}* Ø¨Ù†Ø¬Ø§Ø­!\n\n"
        "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n"
        f"ğŸ“‹ *Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ±:*\n\n"
        f"{links_text}"
        "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n"
        "ğŸ“‹ *Ø§Ù†Ø³Ø® Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·:*",
        parse_mode="Markdown",
    )

    # Ø±Ø³Ø§Ù„Ø© Ù…Ù†ÙØµÙ„Ø© Ø¨Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙÙ‚Ø· (Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ ÙŠÙ‚Ø¯Ø± ÙŠÙ†Ø³Ø®Ù‡Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©)
    await update.message.reply_text(
        f"ğŸ“ Ø±ÙˆØ§Ø¨Ø· ØµÙˆØ±: {item}\n\n{all_urls}",
    )

    # â”€â”€â”€ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ù†Ù…ÙˆØ°Ø¬ Airtable Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯ â”€â”€â”€
    if AIRTABLE_FORM_URL:
        await update.message.reply_text(
            "ğŸ“ *Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø©:*\n\n"
            "Ø§Ù„ØµÙ‚ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ğŸ‘‡\n"
            f"ğŸ”— {AIRTABLE_FORM_URL}\n\n"
            "Ø´ÙƒØ±Ù‹Ø§ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙƒ ÙÙŠ Ø¨ÙÙƒØ³Ù„Ø©! ğŸ™âœ¨\n\n"
            "Ù„ØªØµÙˆÙŠØ± Ù‚Ø·Ø¹Ø© Ø£Ø®Ø±Ù‰ Ø£Ø±Ø³Ù„ Ø£ÙŠ Ø±Ø³Ø§Ù„Ø©",
            parse_mode="Markdown",
        )
    else:
        # Ø¥Ø°Ø§ Ù…Ø§ Ø¶ÙØª Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙˆØ±Ù… Ø¨Ø¹Ø¯ØŒ ÙŠØ±Ø³Ù„ Ø´ÙƒØ± ÙÙ‚Ø·
        await update.message.reply_text(
            "Ø´ÙƒØ±Ù‹Ø§ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙƒ ÙÙŠ Ø¨ÙÙƒØ³Ù„Ø©! ğŸ™âœ¨\n\n"
            "Ù„ØªØµÙˆÙŠØ± Ù‚Ø·Ø¹Ø© Ø£Ø®Ø±Ù‰ Ø£Ø±Ø³Ù„ Ø£ÙŠ Ø±Ø³Ø§Ù„Ø©",
        )

    # Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© â€” Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ ÙŠÙ‚Ø¯Ø± ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯ Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø£ÙŠ Ø±Ø³Ø§Ù„Ø©
    return ConversationHandler.END


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# âŒ Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ù„ØºØ§Ø¡ â€” ØªÙØ³ØªØ¯Ø¹Ù‰ Ø¥Ø°Ø§ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ Ø£Ø±Ø³Ù„ /cancel
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async def cancel(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    await update.message.reply_text(
        "ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡ âŒ\nØªÙ‚Ø¯Ø± ØªØ¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯ Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø£ÙŠ Ø±Ø³Ø§Ù„Ø©",
        reply_markup=ReplyKeyboardRemove(),  # Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø£Ø²Ø±Ø§Ø± Ù„Ùˆ ÙƒØ§Ù†Øª Ø¸Ø§Ù‡Ø±Ø©
    )
    return ConversationHandler.END


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# â­ï¸ Ø¯Ø§Ù„Ø© ØªØ®Ø·ÙŠ Ø§Ù„ØµÙˆØ±Ø© â€” ØªÙØ³ØªØ¯Ø¹Ù‰ Ø¥Ø°Ø§ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ Ø£Ø±Ø³Ù„ /skip
# ÙÙ‚Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© (Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù…ÙŠØ²Ø©) Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®Ø·ÙŠ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async def skip_photo(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    current_step = len(context.user_data["photos"])

    # ÙÙ‚Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø³Ø§Ø¯Ø³Ø© (Ø§Ù„ØªÙØ§ØµÙŠÙ„) Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®Ø·ÙŠ
    if current_step == 5:
        # Ù†Ø¶ÙŠÙ Ø¹Ù„Ø§Ù…Ø© "â€”" Ø¨Ø¯Ù„ Ø§Ù„Ø±Ø§Ø¨Ø·
        context.user_data["photos"].append(
            {"angle": PHOTO_STEPS[5]["angle"], "url": "â€”"}
        )
        return await finish(update, context)

    # Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØµÙˆØ± Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆÙ„Ø§ ØªÙ‚Ø¨Ù„ Ø§Ù„ØªØ®Ø·ÙŠ
    await update.message.reply_text("âš ï¸ Ù‡Ø°ÙŠ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø·Ù„ÙˆØ¨Ø©. Ø£Ø±Ø³Ù„ Ø§Ù„ØµÙˆØ±Ø© Ù„Ùˆ Ø³Ù…Ø­Øª.")
    return PHOTO_1 + current_step


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸš€ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© â€” ØªØ±Ø¨Ø· ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø¨Ø¹Ø¶ ÙˆØªØ´ØºÙ‘Ù„ Ø§Ù„Ø¨ÙˆØª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
def main():
    # Ø¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨ÙˆØª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙˆÙƒÙ†
    app = Application.builder().token(BOT_TOKEN).build()

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # ğŸ—ºï¸ ØªØ¹Ø±ÙŠÙ Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© (ConversationHandler)
    # ÙŠØ­Ø¯Ø¯: Ù…Ù† ÙˆÙŠÙ† ØªØ¨Ø¯Ø£ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©ØŒ ÙˆØ´ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ØŒ ÙˆÙƒÙŠÙ ØªÙ†ØªÙ‡ÙŠ
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    conv_handler = ConversationHandler(
        # â”€â”€â”€ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©: Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© ØªØ¨Ø¯Ø£ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© â”€â”€â”€
        entry_points=[
            CommandHandler("start", start),                         # Ø£Ù…Ø± /start
            MessageHandler(filters.TEXT & ~filters.COMMAND, start), # Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© Ù†ØµÙŠØ©
            MessageHandler(filters.PHOTO, start),                   # Ø£Ùˆ Ø­ØªÙ‰ ØµÙˆØ±Ø©
        ],

        # â”€â”€â”€ Ø§Ù„Ù…Ø±Ø§Ø­Ù„: ÙƒÙ„ Ù…Ø±Ø­Ù„Ø© ØªØ³ØªÙ‚Ø¨Ù„ Ù†ÙˆØ¹ Ù…Ø¹ÙŠÙ† Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ â”€â”€â”€
        states={
            # Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø³Ù…: ØªØ³ØªÙ‚Ø¨Ù„ Ù†Øµ ÙÙ‚Ø·
            NAME: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_name)],

            # Ù…Ø±Ø­Ù„Ø© Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©: ØªØ³ØªÙ‚Ø¨Ù„ Ù†Øµ ÙÙ‚Ø·
            ITEM_NAME: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_item_name)],

            # Ù…Ø±Ø§Ø­Ù„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø³Øª: ØªØ³ØªÙ‚Ø¨Ù„ ØµÙˆØ±Ø© Ø£Ùˆ Ø£Ù…Ø± ØªØ®Ø·ÙŠ /skip
            PHOTO_1: [
                MessageHandler(filters.PHOTO, handle_photo),
                CommandHandler("skip", skip_photo),
            ],
            PHOTO_2: [
                MessageHandler(filters.PHOTO, handle_photo),
                CommandHandler("skip", skip_photo),
            ],
            PHOTO_3: [
                MessageHandler(filters.PHOTO, handle_photo),
                CommandHandler("skip", skip_photo),
            ],
            PHOTO_4: [
                MessageHandler(filters.PHOTO, handle_photo),
                CommandHandler("skip", skip_photo),
            ],
            PHOTO_5: [
                MessageHandler(filters.PHOTO, handle_photo),
                CommandHandler("skip", skip_photo),
            ],
            PHOTO_6: [
                MessageHandler(filters.PHOTO, handle_photo),
                CommandHandler("skip", skip_photo),
            ],
        },

        # â”€â”€â”€ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø®Ø±ÙˆØ¬: Ø£Ù…Ø± /cancel ÙŠÙ†Ù‡ÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª â”€â”€â”€
        fallbacks=[CommandHandler("cancel", cancel)],
    )

    # ØªØ³Ø¬ÙŠÙ„ Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    app.add_handler(conv_handler)

    # â”€â”€â”€ Ù…Ø¹Ø§Ù„Ø¬ Ø¹Ø§Ù…: Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ØªØ¨Ø¯Ø£ Ø§Ù„Ø¨ÙˆØª ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ â”€â”€â”€
    # Ù‡Ø°Ø§ ÙŠØ®Ù„Ù‘ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ Ù…Ø§ ÙŠØ­ØªØ§Ø¬ ÙŠØ¹Ø±Ù Ø£Ù…Ø± /start
    app.add_handler(MessageHandler(filters.ALL, start))

    # ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª â€” ÙŠØ¨Ù‚Ù‰ Ø´ØºÙ‘Ø§Ù„ ÙˆÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    logger.info("ğŸš€ Ø¨ÙˆØª Ø¨ÙÙƒØ³Ù„Ø© Ø´ØºÙ‘Ø§Ù„!")
    app.run_polling()


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# â–¶ï¸ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© â€” ÙŠØ¨Ø¯Ø£ Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ù† Ù‡Ù†Ø§
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if __name__ == "__main__":
    main()
